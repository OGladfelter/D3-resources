<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta charset="utf-8">
		<title>D3 + Waypoints Scrollytell</title>

		<!-- CSS & libraries -->
		<link rel="stylesheet" href="css/style.css">
		<script src="https://d3js.org/d3.v7.min.js"></script>
		<script src="js/noframework.waypoints.min.js"></script>
	</head>
	<body>
		<div class="title-container">
			<h1>D3 animations triggered by Waypoints</h1>
			<p class="byline">By <a href="https://cultureplot.com/about/" target="_blank">Oliver Gladfelter</a></p>
		</div>
		<div class="entry">
			<div class="beeswarmContainer bottom-space">
				<h3>This header and chart will stick in place</h3>
				<div id="beeswarm"></div>
				<div id="tooltip" class="tooltip"></div>
			</div>
			<div class="scrollOnTop" id="step1">
				<p>This paragraph is located within a div with <span class="code">id="step1"</span>. In <span class="code">script.js</span>, we use Waypoints.js to select this div and add a handler such that whenever this element reaches a specified offset from the top, the circle with <span class="code">id</span> <span class="code">circle85</span> is selected and recolored using D3.js.</p>
				<!-- <img src="codeChunk.png"> -->
			</div>
			<div class="scrollOnTop center" id="step2">
				<p>Same effect here, except now it's circle #65 being selected and recolored. This paragraph is located in a div with <span class="code">id</span> <span class="code">step2</span>, so just search for "step2" in the Javascript to see where its Waypoints handler is added.</p>
			</div>
			<div class="scrollOnTop center" id="step3">
				<p>We can select and restyle multiple circles at once!</p>
			</div>
			<div class="scrollOnTop" id="step4">
				<p>...including them all.</p>
			</div>
			<div class="scrollOnTop" id="step5">
				<p>In step 5, we check the <span class="code">year</span> column in all circles' corresponding datum. Any value of <mark class="green-mark">2008</mark> or <mark class="orange-mark">2012</mark> earns a highlighting color; otherwise, circles are recolored <span style="color:gray;">gray</span> <em>and</em> reduced to 20% opacity.</p>
			</div>
			<div class="scrollOnTop center" id="step6">
				<p>step6 just resets the chart</p>
			</div>
			<div class="scrollOnTop" style="opacity:0.8;">
				I added this as a hack. Ideally it wouldn't be necessary. But delete this div and see what happens...welcome to suggestions.
			</div>
		</div>
		<script src="js/script.js"></script>
	</body>
</html>
